> Reusable Guide: Consistent Bottom Spacing For Action Buttons

  - Use a single constant so all dialogs share the same gap.
  - Keep button bars docked to the bottom; let content expand above.
  - Avoid ad‑hoc spacer frames; use consistent pady logic.

  Shared Constant

  - Define once near other globals:
      - BOTTOM_PAD = 46  # pixels; matches grammar modal
  - Optional local spacing for separation from content:
      - PAD_TOP = 6

  Pack Layout (preferred)

  - Place the button frame as the last packed child:
      - btns = tk.Frame(parent, bg='light gray')
      - btns.pack(side=tk.BOTTOM, fill=tk.X, pady=(PAD_TOP, bottom_gap))
  - Compute bottom_gap by subtracting the parent’s external bottom padding so the visual gap equals BOTTOM_PAD:
      - If parent.pack(pady=(pt, pb)) → use bottom_gap = max(0, BOTTOM_PAD - pb)
      - If parent has no external bottom padding → use bottom_gap = BOTTOM_PAD
  - Example:
      - Parent with pady=16:
          - btns.pack(side=tk.BOTTOM, fill=tk.X, pady=(6, max(0, BOTTOM_PAD - 16)))
      - Parent with no pady:
          - btns.pack(side=tk.BOTTOM, fill=tk.X, pady=(6, BOTTOM_PAD))
  - Do not set expand=True on the bottom button frame.
  - Keep scroll/content frame packed before the bottom bar with fill=tk.BOTH, expand=True.

  Grid Layout

  - Push content up by giving the last content row weight:
      - parent.rowconfigure(last_content_row, weight=1)
  - Place the button frame in the next row:
      - btns.grid(row=last_content_row+1, column=0, columnspan=..., sticky="ews", pady=(PAD_TOP, bottom_gap))
  - Compute bottom_gap like pack:
      - If the parent has external bottom padding via grid container or enclosing frame, subtract it.
  - Make sure all grid columns for the button row allow expansion (parent.grid_columnconfigure(0, weight=1)).

  Window Manager (Maximize Safety)

  - Use per‑monitor work area to avoid taskbar overlap:
      - _wm_apply(win, margin_px=0, defer=True) or _wm_for(win).maximize()
  - If the OS/taskbar still obscures bottoms (rare), prefer:
      - _wm_for(win).maximize_client(bottom_margin_px=24..48) to force extra client margin (independent of BOTTOM_PAD).

  Removal Of Spacers

  - Remove bottom spacer frames or large pady on arbitrary separators at the very bottom.
  - If a separator line is desired, place it above the button bar with a small pady, e.g.:
      - sep.pack(side=tk.BOTTOM, fill=tk.X, padx=20, pady=(0,5))
      - Then pack the button bar below with the computed bottom_gap.

  Verification Checklist

  - Maximize the window; buttons never touch the bottom edge.
  - Visual gap matches the grammar modal using BOTTOM_PAD.
  - At 100%/150%/200% DPI: gap still looks identical; no taskbar overlap.
  - Scroll areas expand to fill; no layout regressions.
  - Modal behavior and key bindings unchanged.

  Templates

  - Pack-based template:
    PAD_TOP = 6
    btns = tk.Frame(parent, bg='light gray')
    pb = 16  # set to the parent’s bottom pady if present, else 0
    btns.pack(side=tk.BOTTOM, fill=tk.X, pady=(PAD_TOP, max(0, BOTTOM_PAD - pb)))
    # Buttons inside btns...
    btns.pack(side=tk.BOTTOM, fill=tk.X, pady=(PAD_TOP, max(0, BOTTOM_PAD - pb)))
    # Buttons inside btns...
  - Grid-based template:

    # parent uses grid; last content row = N
    PAD_TOP = 6
    parent.rowconfigure(N, weight=1)
    for c in range(total_columns):
        parent.grid_columnconfigure(c, weight=1)
    pb = 0  # set to parent/enclosing bottom padding if applicable
    btns = tk.Frame(parent, bg='light gray')
    btns.grid(row=N+1, column=0, columnspan=total_columns, sticky="ews", pady=(PAD_TOP, max(0, BOTTOM_PAD - pb)))
    # Buttons inside btns...

  Notes

  - Keep naming consistent (btns for the bottom bar).
  - If any dialog hard‑codes a bottom gap, replace it with BOTTOM_PAD.
  - Ensure the bottom bar is created after the main content so it stays last in stacking order.